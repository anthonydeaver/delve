<html>
	<head>
		<title>Delve - Haunted Mansion</title>
		<style>
			section { padding: 10px; }
			#display header { 
				font-size: 24px; 
				font-weight: bolder; 
				border-bottom: 1px solid gray; 
				margin-bottom: 10px;
			}
			#display article {
				min-height: 400px;
			}
			#nav { width: 400px; }
			#nav table { width: 100; margin: 0 auto; }
			#nav button.disabled{ opacity: 0.4; }
			#left, #map { float: left; height: calc(100% - 20px);}
			section#left { width: 400px; border: 1px solid red;}
			section#map { width: 600px; border: 1px solid green; }
		</style>
		<script src="http://code.jquery.com/jquery-2.1.0.min.js" type="text/javascript"></script>
		<script src="js/app/delve.js" type="text/javascript"></script>
		<script src="js/app/player.js" type="text/javascript"></script>
		<script src="js/app/DelveMap.js" type="text/javascript"></script>
		<script src="js/app/Rooms.js" type="text/javascript"></script>
		<script src="js/app/utils.js" type="text/javascript"></script>
	</head>
	<body>
		<section id="left">
			<section id="display">
				<header></header>
				<article></article>
			</section>
			<section id="nav">
				<table>
					<tr>
						<td colspan=2 align="center">
							<button class="disabled" data-dir="north">North</button>
						</td>
					</tr>
					<tr>
						<td>
							<button class="disabled" data-dir="west">West</button>
						</td>
						<td>
							<button class="disabled" data-dir="east">East</button>
						</td>
					</tr>
					<tr>
						<td colspan=2 align="center">
							<button class="disabled" data-dir="south">South</button>
						</td>
					</tr>
				</table>
			</section>
		</section>
		<section id="map">
		</section>
	</body>
		<script>
			var urlParams;
			var crunch = function () {
				console.log('crunching');
			    var match,
			        pl     = /\+/g,  // Regex for replacing addition symbol with a space
			        search = /([^&=]+)=?([^&]*)/g,
			        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
			        query  = window.location.search.substring(1);

			    urlParams = {};
			    while (match = search.exec(query))
			       urlParams[decode(match[1])] = decode(match[2]);
			    
			};
			crunch();
			console.log('params: ', urlParams);
			var $delve = new Engine(urlParams);
		</script>
	</html>